///// FEATURED CATEGORY & PRODUCT

.wc-block-featured-category,
.wc-block-featured-product
  display: flex
  min-height: 0 !important
  height: auto !important
  background-size: cover
  background-color: var(--bgColor, transparent)

  text-align: center

  &::after
    content: ""
    display: block
    width: 100%
    height: 0
    padding-bottom: var(--ratio, 100%)

  &.has-left-content
    --hAlign: flex-start
    text-align: left
  &.has-center-content
    --hAlign: center
    text-align: center
  &.has-right-content
    --hAlign: flex-end
    text-align: right

  &.is-vertically-aligned-top
    --vAlign: flex-start
  &.is-vertically-aligned-center
    --vAlign: center
  &.is-vertically-aligned-bottom
    --vAlign: flex-end


  &.is-style-landscape
    --ratio: 50%

.wc-block-featured-product
  --ratio: 75%
  
.wc-block-featured-category__wrapper,
.wc-block-featured-product__wrapper
  +absolute-fill
  display: flex
  flex-direction: column
  align-items: var(--hAlign, center)
  justify-content: var(--vAlign, center)

  z-index: 2
  width: 100%
  padding: 1rem
  color: var(--textColor, --text)

  will-change: transform
  transition: var(--gTransition)

  p
    margin-top: 1rem  
  h2
    font-size: var(--h3Size)
  h2::after
    content: "»"
    display: inline-block
    margin-left: 0.25rem
    opacity: 0
    visibility: hidden
    transform: translateX(-0.25rem)
    transition: var(--gTransition)

  &:hover h2::after
    opacity: 1
    visibility: visible
    transform: none

.wc-block-featured-category__link,
.wc-block-featured-product__link
  display: flex
  justify-content: center
  margin-top: 0

  .wp-block-button__link
    +absolute-fill
    background-color: transparent
    border: none
    border-radius: 0
    box-shadow: none
    font-size: 0

    &:hover
      box-shadow: none
      transform: none


.wc-block-featured-product__price
  margin-top: 1rem
  font-size: var(--h4Size)
  font-weight: 700


///// PRODUCTS

.wc-block-grid__products
  display: grid
  grid-template-columns: repeat(var(--columns, 3), minmax(0,1fr))
  row-gap: 2rem
  column-gap: 2rem

  padding-left: 0
  list-style-type: none

  .has-1-columns &
    --columns: 1
  .has-2-columns &
    --columns: 2
  .has-3-columns &
    --columns: 3
  .has-4-columns &
    --columns: 4
  .has-5-columns &
    --columns: 5
  .has-6-columns &
    --columns: 6

  .wc-block-grid:not(.alignwide) &
    column-gap: 1rem

  @media ($below-s)
    --columns: 2

    .has-1-columns &
      --columns: 1


.wc-block-grid__product
  position: relative
  text-align: center

.wc-block-grid__product-link,
.wc-block-grid__product-title a
  display: block
  text-decoration: none
  color: var(--textDim)

  &:hover
    text-decoration: underline
    color: var(--textDim)

// Product Thumbnail
.wc-block-grid__product-image
  margin-bottom: 1rem

  img
    width: 100%
    transition: var(--gTransition)

a:hover .wc-block-grid__product-image img,
.wc-block-grid__product-image a:hover img
  transform: translateY(-2px)
  box-shadow: var(--shadow1)

a:active .wc-block-grid__product-image img,
.wc-block-grid__product-image a:active img
  transform: none
  transition: none
  box-shadow: var(--shadow0)

// Product Name
.wc-block-grid__product-title
  font-family: var(--fontFamily)
  font-weight: var(--fontWeight)
  font-size: var(--fontSize)
  

// Price
.wc-block-grid__product-price,
.price
  display: flex
  justify-content: center
  margin-top: 0.5rem
  font-weight: 700
  font-size: var(--fontSize)
  color: var(--textDim)

  ins
    text-decoration: none

  del
    order: 2
    opacity: .5
    margin-left: 0.5rem
    font-size: var(--smallFontSize)

// On Sale Label
.wc-block-grid__product-onsale,
.onsale
  display: inline-block
  position: absolute
  top: 0.5rem
  left: 0.5rem
  background-color: var(--text)
  padding: 0 10px

  color: var(--textInvert)
  font-size: var(--smallFontSize)
  font-weight: 700
  text-transform: uppercase
  border-radius: var(--gRadius)

  span::after
    content: "!"

// Add to Cart button
.wp-block-button.wc-block-grid__product-add-to-cart
  display: flex
  justify-content: center
  
.wc-block-grid__product-add-to-cart .wp-block-button__link,
a.add_to_cart_button
  background-color: var(--text)
  padding: 0.5rem 0.75rem
  margin-top: 1rem
  border: none

  text-transform: none
  font-weight: normal
  font-size: var(--smallFontSize)
  color: var(--textInvert)

  border-radius: var(--gRadius)

  &:hover
    color: var(--textInvert)

// sorting
.woocommerce-ordering
  max-width: var(--siteWidth)
  
.wc-block-sort-select,
.woocommerce-ordering
  display: flex
  justify-content: flex-end
  margin-bottom: var(--blockSpacing)

  select
    width: auto

.wc-block-product-sort-select
  display: flex
  align-items: center

  .woocommerce-ordering
    margin-left: auto
    margin-bottom: 0


///// PAGINATION (on All Products block)

.wc-block-pagination
  display: flex
  justify-content: center
  margin: var(--groupSpacing) auto

  button
    padding: 0.5rem 0.75rem
    border: 2px solid var(--text)

    font-weight: 700
    color: var(--text)
    transition: var(--gTransition)

  button + button
    margin-left: -2px

  button:hover
    background-color: rgba(black, .2)

  button:first-of-type
    border-radius: var(--gRadius) 0 0 var(--gRadius)
  
  button:last-of-type
    border-radius: 0 var(--gRadius) var(--gRadius) 0

  button[disabled]
    opacity: .5

  button.wc-block-pagination-page--active
    opacity: 1
    background-color: var(--text)
    color: var(--textInvert)

    



///// CATEGORIES LIST & SEARCH

.wc-block-product-categories-list
  padding-left: 0
  list-style-type: none

  li
    margin-bottom: 0.5rem

  a
    display: inline-block

  img
    width: 4rem
    margin-right: 1rem

.wc-block-product-categories-list-item-count
  padding: 0 0.375rem
  margin-left: 0.25rem
  background-color: rgba(--text, .1)
  line-height: 1
  font-size: var(--smallFontSize)
  border-radius: var(--gRadius)


.wc-block-product-search
  label
    display: inline-block
    margin-bottom: 0.5rem
    text-transform: uppercase
    font-weight: 700

// dropdown style
.wc-block-product-categories.is-dropdown,
.wc-block-product-search__fields
  display: flex
  justify-content: flex-start

  button
    padding: 0 0.5rem
    margin-left: 0.5rem
    border: none
    border-radius: var(--gRadius)
    outline: none

    background-color: var(--text)
    color: var(--textInvert)

  path
    fill: currentColor

///// REVIEWS

.wc-block-all-reviews
  display: flex
  flex-direction: column


.wc-block-sort-select
  display: flex
  align-items: center
  justify-content: flex-end
  
  font-size: var(--smallFontSize)

  label
    margin-right: 0.5rem
    white-space: nowrap
  select
    width: auto

.wc-block-review-list
  padding-left: 0
  list-style-type: none

  li + li
    margin-top: var(--blockSpacing)

// Wrapper for Reviewer info
.wc-block-review-list-item__info
  display: grid
  grid-template-columns: 3.5rem auto
  column-gap: 1rem
  align-items: center

  margin-bottom: 1rem
  line-height: 1

.wc-block-review-list-item__meta
  display: flex
  flex-wrap: wrap
  align-items: center
  row-gap: 0.25rem

  &::after
    content: ""
    order: 3
    flex-basis: 100%

.wc-block-review-list-item__product
  font-weight: 700

.wc-block-review-list-item__rating
  order: 2
  margin-left: 0.5rem

.wc-block-review-list-item__rating__stars,
.star-rating
  display: inline-block
  line-height: 1

  &::before
    content: "☆☆☆☆☆"
    display: inline-block
    position: absolute
    font-size: 1.25rem
    opacity: .5

  > span
    display: inline-block
    overflow: hidden
    color: transparent
    font-size: 0

    &::before
      content: "★★★★★"
      display: block
      white-space: nowrap
      color: #e6a237
      font-size: 1.25rem


.wc-block-review-list-item__author,
.wc-block-review-list-item__published-date
  order: 4
  color: var(--textDim)
  font-size: var(--smallFontSize)

.wc-block-review-list-item__author
  .wc-block-all-reviews:not(.has-product-name) &
    order: 1
    color: var(--text)
    font-weight: 700
    font-size: var(--fontSize)

.wc-block-review-list-item__published-date
  .wc-block-review-list-item__author + &
    margin-left: 0.5rem
    padding-left: 0.5rem
    border-left: 1px solid rgba(black, .1)
  
  .wc-block-all-reviews:not(.has-product-name) &
    margin-left: 0
    padding-left: 0
    border: none

// review load more
.wc-block-load-more
  --textColor: var(--text)
  align-self: center
  margin-top: var(--blockSpacing)

  .wp-block-button__link
    border: 2px solid
    background-color: transparent
