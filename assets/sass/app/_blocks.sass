// Styles for Gutenberg blocks
  
[class*="-background-color"]
  background-color: var(--bgColor)

.has-text-color
  color: var(--textColor, var(--text))


// WRAPPER

.the-content
  letter-spacing: calc(0.01 * var(--fontSize))

  > .alignfull.has-background:first-child
    margin-top: calc(-1 * var(--groupSpacing))

  ul, ol
    padding-left: 1.25rem

  h1, h2, h3, h4, h5, h6
    clear: both
    color: var(--textColor)
  
  img
    border-radius: var(--gRadius)
  
  a
    text-decoration: underline


.the-content,
.wp-block-group__inner-container,
.wp-block-cover__inner-container,
  > *
    margin: 0 auto
    max-width: var(--blogWidth)

.the-content,
.wp-block-group__inner-container,
.wp-block-cover__inner-container,
.wp-block-media-text__content,
.wp-block-column
  > * + *
    margin-top: var(--blockSpacing)


.wp-block-group__inner-container,
.wp-block-cover__inner-container,
.wp-block-media-text__content
  @media ($below-l)
    padding-right: var(--gridRim)
    padding-left: var(--gridRim)


// ALIGNMENT
.has-text-align-right
  text-align: right

.has-text-align-left
  text-align: left

.aligncenter,
.has-text-align-center
  text-align: center

.alignwide
  max-width: var(--siteWidth)

  .post-column--has-sidebar &
    padding-right: var(--gridGap)
    padding-left: var(--gridGap)

    // nested alignwide
    .alignwide
      padding-right: 0
      padding-left: 0


.alignfull
  max-width: none
  margin-top: var(--groupSpacing)

  + *
    margin-top: var(--groupSpacing)

  + .alignfull
    margin-top: 0

  .post-column--no-sidebar &
    width: 100vw
    margin-right: calc(-50vw + 50% + var(--gridRim))
    margin-left: calc(-50vw + 50% + var(--gridRim) - 2px)

  .post-column--has-sidebar &
    padding-right: var(--gridGap)
    padding-left: var(--gridGap)

    // nested alignfull
    .alignfull
      padding-right: 0
      padding-left: 0

  &:last-child
    margin-bottom: 0

  
// VERTICAL ALIGNMENT
.is-vertically-aligned-top
  align-items: flex-start
  align-self: flex-start

.is-vertically-aligned-center
  align-items: center
  align-self: center

.is-vertically-aligned-bottom
  align-items: flex-end
  align-self: flex-end

%figcaption
  display: inline-block
  padding: 0.5rem
  margin-right: auto
  margin-left: auto
  border-bottom: 1px solid var(--textDim)
  font-size: var(--smallFontSize)



///// PARAGRAPH

p.has-background
  padding: 1rem
  border-radius: var(--gRadius)

.has-drop-cap:first-letter
  float: left
  margin-right: 0.25rem
  font-family: var(--hFontFamily)
  font-weight: 700
  font-size: 3.5rem
  line-height: 3.5rem

.has-small-font-size
  font-size: var(--smallFontSize)
.has-medium-font-size
  font-size: var(--mediumFontSize)
.has-large-font-size
  font-size: var(--largeFontSize)
  line-height: var(--hLineHeight)
.has-huge-font-size
  font-size: var(--hugeFontSize)
  line-height: var(--hLineHeight)


///// IMAGE

.wp-block-image
  text-align: center

  .alignleft,
  .alignright
    max-width: 50%
    margin-bottom: 1.5rem
  .alignleft
    float: left
    margin-right: 1.5rem
  .alignright
    float: right
    margin-left: 1.5rem

  &.alignfull
    img
      border-radius: 0

  figcaption
    @extend %figcaption

// hover effect
.wp-block-image > a,
.wp-block-gallery figure > a
  display: block
  overflow: hidden
  border-radius: var(--gRadius)

  img
    transition: var(--gTransition)

  &:hover img
    opacity: .8
    backface-visibility: hidden
    transform: scale(1.1)


///// GALLERY

.wp-block-gallery
  display: flex
  flex-direction: column

  figure
    position: relative
    display: flex
    flex-direction: column
    align-items: flex-end
    justify-content: flex-start

    height: 100%
    margin-bottom: 0
    border-radius: var(--gRadius)

  a
    height: 100%

  .blocks-gallery-item__caption
    @extend %figcaption
    border-bottom: 0
    padding-bottom: 0

  .blocks-gallery-caption
    @extend %figcaption


ul.blocks-gallery-grid
  display: flex
  flex-wrap: wrap
  padding-left: 0
  margin-right: -0.5rem
  margin-left: -0.5rem
  list-style-type: none
  max-width: calc(var(--siteWidth) + 1rem)

  .alignwide &
    max-width: calc(var(--siteWidth) + 1rem)


.wp-block-gallery.is-cropped
  img
    flex: 1
    height: 100%
    width: 100%
    object-fit: cover

  .blocks-gallery-item__caption
    position: absolute
    bottom: 0
    width: 100%
    padding: 0.5rem
    background-image: linear-gradient( 0deg, rgba(black,.7), rgba(black,.5) 50%,transparent)

    text-align: center
    color: white

  .blocks-gallery-item__caption a:hover
    opacity: .6
    color: inherit
  
.blocks-gallery-item
  flex-grow: 1
  padding: 0 0.5rem 1rem
  
  @media ($above-s)
    .columns-2 &
      width: 50%
    .columns-3 &
      width: calc(100% / 3)
    .columns-4 &
      width: 25%
    .columns-5 &
      width: 20%
    .columns-6 &
      width: calc(100% / 6)
    .columns-7 &
      width: calc(100% / 7)
    .columns-8 &
      width: 12.5%
    .columns- &
      width: 20%

  @media ($below-s)
    width: 33.33%

    .columns-2 &
      width: 50%

    .columns-1 &
      width: 100%
  
  @media ($below-xs)
    width: 50%


// Slider
.is-style-h-slider
  
  .blocks-gallery-item
    flex-grow: initial

  &.is-cropped .hSlider-slide
    align-items: stretch


///// COVER

.wp-block-cover
  --bgColor: black
  display: flex
  align-items: center
  justify-content: center

  background-size: cover
  background-position: center center
  background-color: var(--bgColor)
  min-height: 400px
  width: 100%

  &.--for-featured-image
    align-items: flex-end

    .post-meta
      padding-top: 0.5rem
      padding-bottom: 0.5rem
      border-top: 1px solid
      border-bottom: 2px solid
      color: rgba(white, .6)

    .post-meta + p
      margin-top: 1.5rem

  &.--for-post-tease
    overflow: hidden
    align-items: flex-end
    padding: 0 2rem 2rem
    border-radius: var(--gRadius)
    max-width: calc(var(--siteWidth) + 4rem )

    a:hover h1
      text-decoration: underline

    .post-meta
      color: rgba(white, .6)


.wp-block-cover__inner-container
  position: relative
  z-index: 2
  width: var(--siteWidth)
  color: white

  @media ($below-l)
    padding-right: var(--gridRim)
    padding-left: var(--gridRim)

.has-parallax
  background-attachment: fixed

.has-background-dim
  position: relative

  &::before
    content: ""
    +absolute-fill
    z-index: 1
    opacity: .5
    background-color: inherit

.has-background-dim-10::before
  opacity: .1
.has-background-dim-20::before
  opacity: .2
.has-background-dim-30::before
  opacity: .3
.has-background-dim-40::before
  opacity: .4
.has-background-dim-60::before
  opacity: .6
.has-background-dim-70::before
  opacity: .7
.has-background-dim-80::before
  opacity: .8
.has-background-dim-90::before
  opacity: .9
.has-background-dim-100::before
  opacity: 1


///// QUOTE

.wp-block-quote
  position: relative
  padding: 0.5rem 2rem
  font-size: var(--mediumFontSize)
  border-left: 3px solid var(--text)

  > * + *
    margin-top: 1rem

  cite
    display: block
    font-size: var(--smallFontSize)
    color: var(--textDim)

  &::after
    content: "\f122"
    display: flex
    align-items: center
    justify-content: center

    position: absolute
    left: 0
    top: 0
    background-color: var(--siteBackgroundColor)
    width: 2rem
    height: 2rem
    color: var(--text)
    font-family: "dashicons"
    border-radius: var(--gRadius)
    transform: translateX(-50%)

  
  &.is-style-large
    padding-top: 1rem
    padding-bottom: 1rem
    margin-top: 2.5rem
    margin-bottom: 2.5rem
    border-left: none
    border-top: 3px solid var(--text)
    border-bottom: 3px solid var(--text)

    font-size: var(--h4Size)
    text-align: center

    &::after
      left: 0
      right: 0
      margin-right: auto
      margin-left: auto
      width: 3rem
      transform: translateY(-50%)


  &.has-text-align-right
    border-left: none
    border-right: 3px solid var(--text)

    &::after
      left: auto
      right: 0
      transform: translateX(50%)


  &.has-text-align-center
    padding-top: 0
    padding-bottom: 0
    border-left: none

    &::before
      content: ""
      display: block
      margin: 0 auto 2rem
      height: 3px
      width: 200px
      background-color: var(--text)
    &::after
      left: 0
      right: 0
      margin-right: auto
      margin-left: auto
      transform: translateY(-50%)
  

///// AUDIO

.wp-block-audio
  text-align: center

  audio
    width: 100%
  figcaption
    @extend %figcaption


///// FILE

.wp-block-file
  display: flex
  align-items: center
  justify-content: center
  padding: 1.25rem
  background-color: rgba(black, .05)
  border: 1px solid rgba(black, .2)
  border-radius: var(--gRadius)

  &.alignleft
    justify-content: flex-start
    float: left

  &.alignright
    justify-content: flex-end

.wp-block-file__button
  margin-left: 1rem


///// VIDEO

.wp-block-video
  width: 100%
  text-align: center

  video
    width: 100%

  figcaption
    @extend %figcaption


///// VERSE

.wp-block-verse
  font-family: var(--fontFamily)


///// TABLE

.wp-block-table
  --tableBorder: black
  --tableHeader: #{ rgba(black, .1) }
  --tableBg: white
  --tableStripe: #{ rgba(black, .05) }

  display: flex
  flex-direction: column

  table
    width: 100%
  tr
    background-color: var(--tableBg)

  thead tr,
  tfoot tr
    background-color: var(--tableHeader)
    font-weight: 700
    text-align: left
  thead tr
    border-bottom: 2px solid var(--tableBorder)
  tfoot tr
    border-top: 2px solid var(--tableBorder)

  th,
  td
    padding: 0.5rem 1rem
    border: 1px solid rgba(black, .1)

  figcaption
    @extend %figcaption

  //
  @media ($below-s)
    td
      padding: 0.25rem 0.5rem


// Table styles
.wp-block-table
  &.is-style-stripes
    tbody tr:nth-child(odd)
      background-color: var(--tableStripe)

  .has-fixed-layout
    width: 100%
    table-layout: fixed

  [class*="-background-color"]
    --tableStripe: white

  .has-subtle-light-gray-background-color
    --tableBorder: var(--textDim)
    --tableHeader: #{ h-rgba(--textDim, .1) }
    --tableBg: #{ h-rgba(--textDim, .05) }

  .has-subtle-pale-green-background-color
    --tableBorder: var(--green)
    --tableHeader: #{ h-rgba(--green, .1) }
    --tableBg: #{ h-rgba(--green, .05) }

  .has-subtle-pale-blue-background-color
    --tableBorder: var(--blue)
    --tableHeader: #{ h-rgba(--blue, .1) }
    --tableBg: #{ h-rgba(--blue, .05) }

  .has-subtle-pale-pink-background-color
    --tableBorder: var(--red)
    --tableHeader: #{ h-rgba(--red, .1) }
    --tableBg: #{ h-rgba(--red, .05) }



///// CODE & PREFORMATTED

.wp-block-code,
.wp-block-preformatted
  padding: 1rem
  border: 1px solid rgba(black, .1)
  border-radius: var(--gRadius)
  background-color: rgba(black, .05)

  code
    padding: 0
    border: 0
    background-color: transparent

code
  padding: 0 0.5rem


////// GROUP
  
.wp-block-group
  padding: var(--groupSpacing) 0

  &:not(.has-background)
    margin-top: 0
  

///// BUTTONS

.wp-block-buttons
  display: flex
  align-items: center
  flex-wrap: wrap

.wp-block-button
  a
    text-decoration: none
    
  &.alignleft a
    float: left
    margin-right: 1.5rem

  &.alignright a
    float: right
    margin-left: 1.5rem

  + .wp-block-button
    margin-left: 1rem

///// COLUMNS

.wp-block-columns
  display: flex

  &.has-background
    background-color: transparent

  @media ($below-s)
    flex-wrap: wrap

.wp-block-column
  flex-basis: 0
  flex-grow: 1
  min-width: 0

  &[style*="flex-basis"]
    flex-grow: 0

  .wp-block-columns.has-background &
    padding: 1rem
    background-color: var(--bgColor)

  @media ($above-s)
    + .wp-block-column
      margin-left: 1.5rem

  @media ($below-s)
    flex-basis: 100% !important
    width: 100%

    + .wp-block-column
      margin-top: 1.5rem


///// MEDIA TEXT

.wp-block-media-text
  display: grid
  grid-row-gap: var(--gridGap)
  grid-column-gap: var(--gridGap)

  &[class*="-background-color"]
    padding: 1rem
    border-radius: var(--gRadius)

  @media ($above-xs)  
    grid-template-areas: "media text"
    grid-template-columns: 6fr 6fr

    &.has-media-on-the-right
      grid-template-areas: "text media"
  
  //
  @media ($below-xs)
    grid-template-areas: "media" "text"
    grid-template-columns: repeat(1, 1fr)


.wp-block-media-text__media
  grid-area: media
  margin-bottom: 0

  @media ($above-xs)
    .is-image-fill &
      align-self: stretch
      background-repeat: no-repeat
      background-size: cover
      border-radius: var(--gRadius)

      img
        display: none

  @media ($below-xs)
    .is-image-fill &
      background-image: none !important


.wp-block-media-text__content
  grid-area: text


///// SPACER

.wp-block-spacer
  margin-top: 0
  margin-bottom: 0


///// SEPARATOR

.wp-block-separator
  display: block
  border-top: 2px solid var(--bgColor)
  margin: 2.5rem auto
  padding: 0
  width: 120px
  line-height: 1

  &.is-style-wide
    width: var(--siteWidth)

  &.is-style-dots
    border: 0
    height: auto
    width: auto
    background-color: transparent
    text-align: center

    &::before
      content: "\00b7 \00b7 \00b7"
      padding-left: 2rem
      font-family: var(--codeFontFamily)
      font-size: var(--largeFontSize)
      letter-spacing: 1.5rem
      color: var(--bgColor, var(--text))




///// EMBED

.wp-block-embed
  margin-top: 2rem
  margin-bottom: 2rem
  text-align: center

  figcaption
    @extend %figcaption

.wp-block-embed__wrapper
  display: flex
  justify-content: center
  position: relative

  &::before
    .wp-has-aspect-ratio &,
    .wp-block-embed-wordpress &
      content: ""
      display: block
      width: 100%

    .wp-embed-aspect-21-9 &,
    .wp-block-embed-wordpress &
      padding-top: 42.85%
    .wp-embed-aspect-18-9 &
      padding-top: 50%
    .wp-embed-aspect-16-9 &
      padding-top: 56.25%
    .wp-embed-aspect-4-3 &
      padding-top: 75%
    .wp-embed-aspect-1-1 &
      padding-top: 100%
    .wp-embed-aspect-9-6 &
      padding-top: 66.667%
    .wp-embed-aspect-1-2 &
      padding-top: 200%
    

.wp-has-aspect-ratio,
.wp-block-embed-wordpress
  iframe
    +absolute-fill
    width: 100%
    height: 100%


.wp-block-embed-wordpress
  blockquote
    display: none
  
  iframe
    clip: auto !important


///// SOCIAL LINKS

ul.wp-block-social-links
  display: flex
  justify-content: flex-start
  flex-wrap: wrap
  padding-left: 0
  list-style-type: none

  &.aligncenter
    justify-content: center

.wp-social-link a
  display: flex
  align-items: center
  justify-content: center

  margin-right: 0.75rem
  margin-bottom: 0.75rem
  width: 42px
  height: 42px
  border: 1px solid rgba(black, .2)
  border-bottom-width: 2px
  border-radius: var(--gRadius)
  
  background-color: var(--color)
  line-height: 0

  transition: var(--gTransition)
  will-change: opacity

  &:hover
    opacity: .7
  &:active
    border-top-width: 2px
    border-bottom-width: 1px
    transition: none

  .is-style-logos-only &
    background-color: transparent
    border-color: transparent
    margin-right: 0.5rem

    svg
      fill: var(--color)
    &:hover
      border-color: rgba(black, .2)

  .is-style-pill-shape &
    border-radius: 50px
    padding-left: 1rem
    padding-right: 1rem
    width: auto
 
.wp-social-link svg
  width: 28px
  height: 28px
  fill: white
  

// color
@each $name, $color in $social-colors
  .wp-social-link-#{ $name }
    --color: #{ $color }

.wp-social-link-goodreads,
.wp-social-link-chain,
.wp-social-link-feed,
.wp-social-link-mail
  svg
    fill: #382110

.wp-social-link-snapchat
  stroke: black