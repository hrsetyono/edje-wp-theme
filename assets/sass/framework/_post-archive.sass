///// ARCHIVES (Post Listing)

.archive-header
  position: relative

  h1, h2, p
    margin-bottom: 1rem
  a:hover
    text-decoration: underline

  .author &
    small
      display: block
      font-size: 1rem
      font-weight: var(--fontWeight)
    img
      float: right
      width: 70px
      border-radius: var(--gRadius)


.post-archives
  --archiveBg: white
  --archivePadding: 1.5rem

  display: grid
  grid-template-columns: repeat( 1, minmax(0,1fr) )
  grid-column-gap: 1rem
  grid-row-gap: 1rem
  padding-left: 0
  list-style-type: none

  //
  @media ($below-m)
    --archivePadding: 1rem

.post-archives--default
  .archive-column--no-sidebar &
    max-width: var(--blogWidth)
    margin: 0 auto

.post-archives--grid
  grid-template-columns: repeat( var(--postsPerRow, 3), minmax(0,1fr) )


// SINGLE ARCHIVE

.post-archive
  overflow: hidden
  display: flex
  flex-direction: column
  flex-wrap: wrap
  position: relative
  background-color: var(--archiveBg)
  padding: var(--archivePadding)

  border-radius: var(--gRadius)
  box-shadow: var(--shadow0)

  > *
    margin-bottom: 0.75rem
  > *:last-child
    margin-bottom: 0

  a
    text-decoration: none

  h3
    font-size: var(--h5Size)
  h3 a
    display: block
  h3 a:hover
    text-decoration: underline
    color: var(--linkColorHover)
  
  p
    font-size: var(--smallFontSize)

  .button
    align-self: flex-start
    justify-self: flex-start

  
  @media ($above-xs)
    .post-archives--default &
      display: grid
      grid-template-rows: auto auto auto auto auto
      grid-template-columns: auto 1fr
      grid-column-gap: var(--archivePadding)
      padding-left: 0

      > *
        order: 2
        grid-column: 2 / span 1


// ARCHIVE FIGURE
.archive-figure
  --figureMargin: calc(-1 * var(--archivePadding))

  width: calc( 100% + var(--archivePadding) + var(--archivePadding) )
  margin-right: var(--figureMargin)
  margin-left: var(--figureMargin)

  &:first-child
    margin-top: var(--figureMargin)

  &:hover
    img
      opacity: .8
      transform: scale(1.05)

  img
    transition: var(--gTransition)

  .image-fit--custom
    --fitHeight: var(--archiveImageHeight)

  //
  @media ($above-xs)
    .post-archives--default &
      --ratioPadding: 0

      order: 1
      grid-row: span 5
      grid-column: span 1
      min-width: 200px
      width: 100%
      height: calc( 100% + var(--archivePadding) + var(--archivePadding) )
      margin: var(--figureMargin) 0