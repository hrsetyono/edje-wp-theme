$output-password-form: false
$output-infinite-scroll: false

// SINGLE POST LAYOUT

.post-column
  --postContentOffset: 2rem

  grid-column: span 12
  padding-top: var(--postContentOffset)
  padding-bottom: var(--postContentOffset)

  > * + *
    margin-top: 2rem

.post-column--has-sidebar
  --blogWidth: 100%

  grid-column: span 8

  //
  @media ($below-s)
    grid-column: span 12


.post-column--no-sidebar
  > * > *
    width: 100%
    max-width: var(--blogWidth)
    margin-right: auto
    margin-left: auto


///// TITLE

.post-title
  h1, h2
    margin-bottom: 0.5rem

// Banner Title

.post-hero
  display: flex
  align-items: flex-end

  position: relative
  min-height: 250px
  padding-bottom: 2rem
  background-color: var(--postHeroBg)

  picture
    +absolute-fill

  picture::after
    content: ""
    +absolute-fill
    z-index: 5
    background-color: rgba(white, .5)

.hero-column
  position: relative
  z-index: 10
  grid-column: span 8

.hero-column--narrow
  grid-column: span 12

  > *
    max-width: var(--blogWidth)
    margin-right: auto
    margin-left: auto


///// POST META

.post-meta
  --metaGap: 0.5rem

  display: flex
  flex-wrap: wrap
  align-items: center
  margin-top: 1rem
  
  color: var(--textDim)
  font-size: var(--smallFontSize)

  > *
    display: inline-block
    margin-right: 0.75rem
    margin-bottom: 0.25rem

  > *:last-child
    margin-right: 0

  a
    display: inline-block
    color: inherit
    text-decoration: none
  a:hover
    text-decoration: underline
  a:active
    transition: none
    transform: translateY(1px)

  i::before
    width: 1em
    height: 1em
    font-size: 1rem
    vertical-align: middle
    transform: translateY(-2px)

  .post-title &
    padding-top: 0.5rem
    padding-bottom: 0.5rem
    border-top: 1px solid rgba(black, .2)
    border-bottom: 2px solid rgba(black, .2)

  .post-hero &
    color: var(--text)

  .post-archive &
    &:last-child
      margin-top: auto


.meta-author

.meta-categories,
.meta-tags
  a
    display: inline-block
    padding: 0 0.375rem
    background-color: var(--buttonBg)
    border-radius: var(--gRadius)

    color: var(--buttonColor)

  a:hover
    background-color: var(--buttonBgHover)
    color: var(--buttonColorHover)

.meta-categories
  --buttonBg: var(--mainLight)
  --buttonBgHover: var(--mainLight)
  --buttonColor: var(--text)
  --buttonColorHover: var(--text)

  margin-right: 0.25rem
  
  a
    text-transform: uppercase
    letter-spacing: 0.025em

.meta-tags
  --buttonBg: #{ h-rgba(--text, .075) }
  --buttonBgHover: #{ h-rgba(--text, .15) }
  --buttonColor: var(--textDim)
  --buttonColorHover: var(--text)


///// POST FEATURED IMAGE

.featured-image
  display: flex
  align-items: center
  padding: 0

  picture
    overflow: hidden
    max-width: none

  img
    margin-right: auto
    margin-left: auto

.featured-image--narrow
  picture
    width: var(--blogWidth)
    border-radius: var(--gRadius)
  
  .image-fit--custom
    --fitHeight: var(--postImageHeight)


.featured-image--wide,
.featured-image--full

  .image-fit
    --fitHeight: var(--postImageHeight)

.featured-image--wide
  picture
    width: calc(var(--blogWidth) + 200px)
    max-width: 100%

.featured-image--full
  picture
    width: 100%


///// SINGLE AUTHOR

.post-author
  max-width: var(--blogWidth)
  margin: 0 auto
  padding: 1rem
  background-color: var(--textInvert)
  box-shadow: 0px 50px 90px rgba(210, 213, 218, 0.4)

  body.archive &
    background-color: transparent
    margin-bottom: 2rem
    box-shadow: none

  a:active
    transition: none
    transform: translateY(1px)

  //
  @media ($above-xs)
    display: grid
    grid-template-columns: auto 1fr
    grid-template-rows: auto auto
    grid-column-gap: 1.5rem
    grid-row-gap: 0.5rem


// Avatar
.author-avatar
  grid-row: span 2

  img
    border-radius: 50%
    background-color: var(--siteBackgroundColor)
    height: 4em
    width: 4em
    box-shadow: var(--shadow1)

  //
  @media ($below-xs)
    float: right


// Author text
.author-bio
  grid-column: 2 / span 1
  font-size: var(--smallFontSize)
  
  * + *
    margin-top: 0.5rem

  a
    display: inline-block
    color: inherit
    text-decoration: none

  a:hover
    color: inherit
    text-decoration: underline

  label
    margin-bottom: -0.5rem
    color: var(--textDim)

  h5, h6
    text-transform: uppercase
    letter-spacing: 0.025em


// Social media links
.author-links
  --linkColor: var(--textDim)

  display: flex
  flex-wrap: wrap
  grid-column: 2 / span 1

  margin: 0.5rem -0.5rem 0
  font-size: var(--smallFontSize)

  a
    display: flex
    align-items: center
    padding: 0 0.5rem

  a:hover
    --linkColor: var(--main)

  svg
    width: 1rem
    margin-right: 0.25rem
  path
    fill: var(--linkColor)
    transition: var(--gTransition)


///// POST NAV

.post-nav
  display: flex
  
  a
    display: flex
    flex: 1
    align-items: center
    padding: 0.5rem 0

  a:hover
    opacity: .75
  a:active
    transition: none
    transform: translateY(1px)

  img
    width: 70px
    height: 70px
    margin-right: 0.5rem
    background-color: var(--textDim)
    border-radius: 50%

  span
    flex: 1
    font-weight: var(--hFontWeight)

  em
    display: block

    text-transform: uppercase
    font-size: var(--xsmallFontSize)
    font-style: normal
    font-weight: 400

  //
  @media ($below-xs)
    flex-wrap: wrap

    a
      flex: auto
      width: 100%

.nav-next
  flex-direction: row-reverse
  text-align: right

  img
    margin-right: 0
    margin-left: 0.5rem



///// RELATED POSTS

.related-posts
  --blogWidth: var(--siteWidth)
  --postsPerRow: 3 // always 3 no matter what the setting is

  padding-top: 2rem
  padding-bottom: 2rem
  background-color: var(--postRelatedBg)

  .related-title
    margin-bottom: 2rem
    font-weight: var(--fontWeight)

  .post-archive
    background-color: var(--siteBackgroundColor)

  //
  @media ($below-m)
    --postsPerRow: 2
  
  @media ($below-s)
    --padding: 2rem

  @media ($below-xs)
    --postsPerRow: 1

  

///// COMMENTS

.post-comments
  padding: 0 calc( var(--gridGap) / 2 )

  ul
    list-style-type: none

  h4
    margin-bottom: 1rem
    text-align: center

.comments-list
  padding-left: 0
  margin-top: 2rem

  > li
    padding: 1.25rem
    margin-bottom: 1.5rem
    background-color: white
    border: 1px solid rgba(black, .1)
    border-radius: var(--gRadius)

// Single Comment
.comment
  position: relative

  &.bypostauthor .comment-avatar
    padding: 1px

  .avatar
    margin-right: 0.75rem
    width: 2.5em
    height: 2.5em


.comment-header
  display: flex
  flex-wrap: wrap
  align-items: center
  margin-bottom: 1rem

  time
    margin-left: 0.5rem
    font-size: var(--smallFontSize)
    color: var(--textDim)

.comment-text
  p + p
    margin-top: 1rem


// Child comments
.replies-list
  margin-top: 1.5rem
  padding-left: 1.25rem
  border-left: 2px solid rgba(black , .1)
  
  .comment
    font-size: var(--smallFontSize)

  > li + li
    margin-top: 1.5rem
  header
    margin-bottom: 0.5rem
  p + p
    margin-top: 0.5rem


// Reply link
a.comment-reply-link
  position: absolute
  top: 5px
  right: 0

  padding-right: 0.5rem
  padding-left: 0.5rem
  border-radius: var(--gRadius)
  background-color: h-rgba(--main, .1)
  font-size: var(--smallFontSize)
  font-weight: var(--hFontWeight)
  letter-spacing: 0.05em
  text-transform: uppercase

  &:hover
    background-color: h-rgba(--main, .25)
  &:active
    transition: none
    transform: translateY(1px)


///// COMMENT FORM /////

.comment-reply-title
  display: none

.comment-respond
  margin-bottom: 2rem

  .comments-list & // if reply
    width: 110%
    margin: 0 -5%

.comment-form
  display: flex
  flex-wrap: wrap
  padding: 1rem
  background-color: white
  border-radius: var(--gRadius)
  box-shadow: var(--shadow0)

  .comments-list & // if reply
    margin-top: 1.25rem

  p
    display: flex
    flex-direction: column
    width: 100%
    margin-bottom: 1rem

  label
    cursor: pointer
    margin-bottom: 0.5rem
    text-transform: uppercase
    color: var(--textDim)
    letter-spacing: 0.05em
    font-size: var(--smallFontSize)

  .comment-notes,
  .logged-in-as
    display: block
    color: var(--textDim)
    font-size: var(--smallFontSize)
  
// when not active, only show Textarea
.comment-form:not(.--active)
  padding: 0

  \:not(.comment-form-comment)
    overflow: hidden
    height: 0
    margin: 0


// Textarea
.comment-form-comment
  label
    display: none

  textarea
    height: 9rem

  .comment-form:not(.--active) &
    margin: 0

    textarea
      cursor: pointer
      padding: 1.5rem
      border: 0
      background-color: h-rgba(--main, .1)
      height: 4.5rem
      box-shadow: none
    
    textarea:hover
      background-color: transparent


p.comment-form-author,
p.comment-form-email
  width: 50%

  @media ($below-xs)
    width: 100%

p.comment-form-author
  padding-right: 0.5rem

p.comment-form-email
  padding-left: 0.5rem

p.comment-form-url
  display: none

p.comment-form-cookies-consent
  flex-direction: row

  input
    margin-top: 2px
    margin-right: 0.5rem

  label
    display: inline-block
    text-transform: none

p.form-submit
  align-items: flex-end
  margin-bottom: 0


///// POST PASSWORD FORM
@if $output-password-form
  .post-password-form
    padding: 2rem 4rem
    background-color: rgba(black, .05)
    border-radius: var(--gRadius)

    p:last-child
      display: flex
      border-bottom: 1px solid var(--textDim)
      padding-bottom: 0.5rem

    label
      flex: 1
      color: var(--textDim)

    input[type="password"]
      background-color: transparent
      border: none
      margin-top: 1rem
      padding: 0

      font-size: var(--h3Size)
      color: var(--text)
      letter-spacing: 0.05em
      
      &:hover,
      &:focus
        border: none
        box-shadow: none

    input[type="submit"]
      align-self: flex-end
      background-color: white
      padding-right: 2rem
      padding-left: 2rem


///// INFINITE SCROLL (Jetpack)

@if $output-infinite-scroll
  body[class^="paged-"] #infinite-footer
    display: none // if infinite-footer is turned on (in theme_support), hide it in paged list.

  .infinite-loader
    margin-top: 2rem
    margin-bottom: 2rem

    .spinner
      left: 50% !important
      transform: translateX(-50%)

///// SHARING

$social-logos: ( twitter: '\f202', facebook: '\f203', pinterest: '\f210', jetpack-whatsapp: '\f608', skype: '\f220', pocket: '\f224', linkedin: '\f207', reddit: '\f222', tumblr: '\f607', telegram: '\f606', youtube: '\f213', instagram: '\f215', print: '\f469', more: '\f415' );

.sharedaddy
  .share-end
    display: none
  .sd-title
    margin-bottom: 1rem
    white-space: nowrap
    font-size: var(--fontSize)
    letter-spacing: 0.05em
    text-transform: uppercase
    
    &::before
      display: none
  .sd-button
    text-decoration: none

.sharedaddy .sd-content 
  ul
    display: flex
    flex-wrap: wrap
    list-style-type: none
    padding-left: 0
    margin: 0 -4px
  li 
    display: flex
    align-items: center
    padding: 0 0.25rem
    margin-bottom: 0.5rem

// Button
.sd-button 
  --color: #333
  --colorHover: #{ rgba(#333, .2) }
  display: inline-block
  overflow: hidden
  border: 1px solid var(--color)
  border-bottom-width: 2px
  border-radius: var(--gRadius)
  color: var(--color)

  &:hover
    color: var(--color)
    background-color: var(--colorHover)
  &:active 
    border-top-width: 2px
    border-bottom-width: 1px
    transition: none

  .sd-social-icon-text &,
  .sd-social-text &
    padding: 0px 10px 2px

  .sd-social-icon & 
    padding: 4px 10px
    border-radius: 50%

    &.share-more 
      padding-top: 0
      padding-bottom: 0
      border-radius: var(--gRadius)
    &.share-more::before 
      margin-right: 0.25rem
      
  span
    vertical-align: middle
  .sharing-screen-reader-text 
    display: none


.sd-button::before
  content: ""
  display: inline-block
  position: relative
  top: 1px

  vertical-align: middle
  line-height: 1
  text-align: center
  font-family: 'social-logos'
  font-size: 18px

  .sd-social-official & 
    top: -2px
  .sd-social-icon & 
    top: 0
    font-size: 20px
  .sd-social-icon-text &
    margin-right: 0.25rem

// Social colors
@each $name, $value in $social-logos
  @if map-has-key( $social-colors, $name )
    .sd-button.share-#{ $name }
      --color: #{ map-get($social-colors , $name) }
      --colorHover: #{ rgba( map-get($social-colors, $name), .2 ) }

  .sd-social-icon-text .sd-button.share-#{ $name }::before,
  .sd-social-icon .sd-button.share-#{ $name }::before 
    content: $value


// Custom button
.share-custom 
  .sd-social-icon-text & 
    padding-left: 6px
  span
    padding-left: 1.25rem
    background: left no-repeat
    background-size: 1em