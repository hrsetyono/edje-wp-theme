
// ARCHIVE LAYOUT

.archive-column
  grid-column: span 12

  padding-top: 2rem
  padding-bottom: 2rem
  
  > * + *
    margin-top: 2rem

.archive-column--has-sidebar
  @media ($above-s)
    grid-column: span 8


///// SIDEBAR

.sidebar
  order: 1
  grid-column: span 4
  align-self: flex-start

  display: grid
  grid-template-columns: 1fr
  grid-row-gap: 2rem
  grid-column-gap: 2rem

  padding-top: 2rem
  padding-left: 3rem

  .widget
    grid-column: span 1
    list-style-type: none

  .widget * + *
    margin-top: 0.5rem

  .widgettitle
    font-size: var(--h4Size)

  //
  @media ($below-m)
    padding-left: 1.5rem

  @media ($below-s)
    order: 1
    grid-column: span 12

    grid-template-columns: repeat(2, minmax(0,1fr))
    padding-top: 0
    padding-left: 0
    margin-bottom: 2rem

  @media ($below-xs)
    grid-template-columns: auto


///// ARCHIVES (Post Listing)

.archive-header
  position: relative

  h1, h2, p
    margin-bottom: 1rem
  a:hover
    text-decoration: underline

  .author &
    small
      display: block
      font-size: 1rem
      font-weight: var(--fontWeight)
    img
      float: right
      width: 70px
      border-radius: var(--gRadius)


.post-archives
  display: grid
  grid-template-columns: repeat( 1, minmax(0,1fr) )
  grid-column-gap: 1rem
  grid-row-gap: 1rem
  padding-left: 0
  list-style-type: none

  a:active
    transition: none
    transform: translateY(1px)

  //
  @media ($below-m)
    --archivePadding: 1rem

.post-archives--default
  .archive-column--no-sidebar &
    max-width: var(--blogWidth)
    margin: 0 auto

.post-archives--grid
  grid-template-columns: repeat( var(--postsPerRow, 3), minmax(0,1fr) )


// SINGLE ARCHIVE

.post-archive
  overflow: hidden
  display: flex
  flex-direction: column
  flex-wrap: wrap
  position: relative
  background-color: var(--archiveBg)
  padding: var(--archivePadding)

  border-radius: var(--gRadius)
  box-shadow: var(--shadow0)

  > *
    margin-bottom: var(--archivePadding)
  > *:last-child
    margin-bottom: 0

  a
    text-decoration: none

  h3
    font-size: var(--h5Size)
  h3 a
    display: block
  h3 a:hover
    text-decoration: underline
    color: var(--linkColorHover)
  
  p
    font-size: var(--smallFontSize)

  .button
    align-self: flex-start
    justify-self: flex-start

  
  @media ($above-xs)
    .post-archives--default &
      display: grid
      grid-template-rows: auto auto auto auto auto
      grid-template-columns: auto 1fr
      grid-column-gap: var(--archivePadding)
      padding-left: 0

      > *
        order: 2
        grid-column: 2 / span 1


// ARCHIVE FIGURE
.archive-figure
  --margin: calc(-1 * var(--archivePadding))

  width: calc( 100% + var(--archivePadding) + var(--archivePadding) )
  margin-right: var(--margin)
  margin-left: var(--margin)

  &:first-child
    margin-top: var(--margin)

  &:hover
    img
      opacity: .8
      transform: scale(1.05)

  img
    transition: var(--gTransition)

  &.image-fit--custom
    --fitHeight: var(--archiveImageHeight)

  //
  @media ($above-xs)
    .post-archives--default &
      order: 1
      grid-row: span 5
      grid-column: span 1
      min-width: 200px
      width: 100%
      height: calc( 100% + var(--archivePadding) + var(--archivePadding) )
      margin: var(--margin) 0



///// PAGINATION

.pagination
  display: flex
  justify-content: center

  color: var(--textDim)
  font-size: var(--smallFontSize)

  a,
  select
    display: flex
    align-items: center
    cursor: pointer

    background-color: transparent
    border: 2px solid var(--textDim)
    border-radius: 0
    width: auto

    color: var(--textDim)
    -webkit-appearance: none
    appearance: none

    &:hover
      background-color: h-rgba(--text, .1)
    &:active
      transition: none
      transform: translateY(1px)

  select
    padding-right: 1rem
    padding-left: 1rem
    font-weight: var(--hFontWeight)
    text-transform: uppercase

  a
    padding-right: 0.25rem
    padding-left: 0.25rem

  a:nth-of-type(1)
    border-right: 0
    border-top-left-radius: var(--gRadius)
    border-bottom-left-radius: var(--gRadius)

  a:nth-of-type(2)
    border-left: 0
    border-top-right-radius: var(--gRadius)
    border-bottom-right-radius: var(--gRadius)


  path
    fill: h-rgba(--textDim, .7)

  // no href
  a:not([href])
    visibility: hidden
    opacity: 0