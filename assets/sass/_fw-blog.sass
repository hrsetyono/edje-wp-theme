$below-related-s: "max-width:870px"

$output-author: true
$output-related: true
$output-comment: true
$output-password-form: false
$output-infinite-scroll: false


///// PAGINATION

.pagination
  +h( d-flex mv2 fs-s c-passive ta-center )

  a,
  select
    +h( cursor-pointer w-auto no-appearance )

  a
    +h( as-center )
  
  a:first-child
    +h( mr-auto )
  
  a:last-child
    +h( ml-auto )
  
  // no href
  a:not([href])
    +h( v-hidden o0 )


///// POSTS LISTING

.post-tease
  +h( d-flex fd-row-reverse relative pb2 mv2 bb1-solid bc-gray )

  a
    +h( td-none c-inherit )
  figure
    +h( mb0 ml0_75 )
  
  //
  @media ($below-s)
    +h( d-block )
    figure
      +h( float-right )
    img
      width: 150px

  @media ($below-m)
    img
      width: 100px

.tease-body
  +h( flex1 )

  > a:hover h3
    +h( td-u )
  h3
    +h( m0 mb0_5 )
  p
    +h( mb1 )

  @media ($below-s)
    h3
      +h( clear-none )


///// BLOG NAV

.blog-nav
  +h( d-flex fw-wrap mv2 pv0_5 )
  border-bottom: 2px solid var(--text)
  border-top: 1px solid var(--gray)

  a
    +h( d-inline-block pv0_25 ph0_5 )
    +h( c-text tt-uppercase fs-s ls25 brad transition )

    &:hover
      +h( c-main )
    &.active
      +h( bg-main c-white )


///// SINGLE POST

.post-header
  +h( relative mv2 mh0 )

  h1, h2
    +h( mb1 )
  p
    +h( mb1 )
  a:hover
    +h( td-u )

  .author &
    small
      +h( d-block fs-body fw-body )
    img
      +h( float-right brad )
      width: 70px


///// POST META

.post-meta
  +h( relative )

  a
    +h( c-inherit td-none )
  
  a:hover
    +h( u )
      
  .dashicons-before::before
    +h( fs-body va-middle )
    width: 1em
    height: 1em


.meta-author
  +h( pr0_5 )

.meta-category
  +h( tt-uppercase )
  
.meta-date,
.meta-comments
  +h( d-iblock ph0_5 bl1-solid bc-gray )
  
  @media ($below-s)
    +h( ph05 )
  
  @media ($below-xs)
    +h( w100 )


///// AUTHOR

@if $output-author
  .post-author
    +h( d-flex pv2 mt1 bt1-solid bc-gray )

    h6
      +h( mt0 mb0_5 )
    //
    @media ($below-xs)
      +h( fd-column ta-center )

  .banner-author
    +h( pv2 ta-center )

  // Author image
  .author-image
    img
      +h( b1-solid bc-gray p0_25 brad )
      height: 4em
      width: 4em
    .banner-author &
      +h( mb1 )
    //
    @media ($below-xs)
      +h( mb1 )

  // Author text
  .author-text
    .post-author &
      +h( flex1 pv0 ph0_75 )
      p
        +h( mb0 fs-s )

    .banner-author &
      +h( mb1_5 )
    
    * + p
      +h( mt0_5 )

    a
      +h( c-inherit td-none )
      &:hover
        +h( c-inherit td-u )

    b
      +h( tt-uppercase fw-body fs-s ls50 )
      .post-author &
        +h( d-none )

    .author-url
      +h( c-passive ) 
      .banner-author &
        +h( c-main )
    
    //
    @media ($below-xs)
      +h( mb1 )


///// RELATED POSTS

@if $output-related
  .post-footer
    +h( pt1 bg-black_05 )

  .post-footer-grid
    +grid(4, $width: $content-width * 0.9)
  
  // heading
  div#jp-relatedposts h3.jp-relatedposts-headline,
  .post-comments h4
    +h( d-block float-none mv2 )
    +h( fs-h5 ls50 tt-uppercase )
    //
    @media ($below-s)
      +h( fs-m )

  ///// RELATED POSTS (Jetpack)
  div#jp-relatedposts
    +h( d-block pt0 mb3 )

    // list
    div.jp-relatedposts-items
      +h( d-flex )
      +clearfix
      margin: 0 -125px

      //
      @media ($below-related-s)
        margin: 0 -5px
      //
      @media ($below-s)
        +h( fd-column m0 )

    // main title
    h3.jp-relatedposts-headline
      em
        font-style: normal
      em::before
        +h( d-none )

    // single item
    div.jp-relatedposts-items .jp-relatedposts-post
      +h( ov-hidden p1 mh0_75 w33p o100 bg-white )
      +h( shadow0 brad )

      // hide underline when hovering the whole box
      &:hover .jp-relatedposts-post-title .jp-relatedposts-post-a
        +h( td-none )
      //
      @media ($below-related-s)
        +h( mh025 )
      //
      @media ($below-s)
        +h( w100 m0 mb1 )

    // single image
    .jp-relatedposts-post > .jp-relatedposts-post-a
      +h( ov-hidden d-block )
      max-height: 160px
      margin: -1em
      margin-bottom: 1em

      // underline title when hovering image
      &:hover + .jp-relatedposts-post-title
        +h( td-u )

    // single title
    div.jp-relatedposts-items .jp-relatedposts-post .jp-relatedposts-post-title
      +h( clear-none fs-m ls0 lh-header )
      &:hover
        +h( td-u )
      a
        +h( d-block fw-header c-inherit )

      @media ($below-xs)
        +h( fs-body )

    // meta
    div.jp-relatedposts-items .jp-relatedposts-post
      p, span
        +h( ov-visible maxw100 fs-s )

      .jp-relatedposts-post-excerpt,
      .jp-relatedposts-post-context
        +h( d-none )

      .jp-relatedposts-post-date
        +h( d-inline-block o60 )
        //
        @media ($below-xs)
          +h( fs-s )

    // visual layout
    div.jp-relatedposts-items div.jp-relatedposts-post-thumbs
      //
      @media ($below-related-s)
        +h( fs-s )
      //
      @media ($below-s)
        +h( pb0 )

        > .jp-relatedposts-post-a
          +h( float-left mr0_75 mb0 )
          max-width: 150px

    // next prev
    &.jp-next-prev
      div.jp-relatedposts-items
        +h( fd-row )
        margin: 0 -10px

      div.jp-relatedposts-items .jp-relatedposts-post
        +h( w50 )
        margin: 0 10px
        //
        @media ($below-s)
          +h( p05 )
      
      //
      @media ($below-s)
        .jp-relatedposts-post > .jp-relatedposts-post-a
          margin: -0.5em
          margin-bottom: 0.5em

      // next prev no thumbnail
      div.jp-relatedposts-items .jp-relatedposts-nothumb
        +h( d-flex fd-column jc-center ta-center )
        
        .jp-relatedposts-post-title
          +h( fs-h4 )
        .jp-relatedposts-nothumb-excerpt
          +h( mt1 )
          //
          @media ($below-s)
            +h( d-none )
        .jp-relatedposts-nothumb-excerpt a
          +h( d-block )


///// COMMENTS

@if $output-comment

  .post-comments
    ul
      +h( list-none )

  .comments-list
    +h( mt2 )

    > li
      +h( p1_25 mb1_5 bg-white b1-solid bc-black_10  brad )

  // Single Comment
  .comment
    +h( relative )

    &.bypostauthor .comment-avatar
      +h( p1px )

    .avatar
      +h( mr0_75 w2_5em h2_5em )


  .comment-header
    +h( d-flex fw-wrap ai-center mb1 )

    time
      +h( ml0_5 fs-s c-passive )


  .comment-text
    p + p
      +h( mt1 )


  // Child comments
  .replies-list
    +h( mt1_5 pl1_25 )
    border-left: 2px solid rgba(black , .1)
    
    .comment
      +h( fs-s )

    > li + li
      +h( mt1_5 )

    header
      +h( mb0_5 )

    p + p
      +h( mt0_5 )


  // Reply link
  a.comment-reply-link
    +h( absolute top5px right0 ph0_5 bg-main_10  brad )
    +h( fs-s fw-header ls50  tt-uppercase )

    &:hover
      +h( bg-main_25 )


  ///// COMMENT FORM /////

  .comment-reply-title
    +h( d-none )

  .comment-respond
    +h( mb2 )

    .comments-list & // if reply
      width: 110%
      margin: 0 -5%


  .comment-form
    +h( d-flex fw-wrap p1 bg-white shadow1 brad )

    .comments-list & // if reply
      +h( mt1_25 )

    p
      +h( d-flex fd-column w100p mb1 )

    label
      +h( cursor-pointer mb0_5 tt-uppercase c-passive ls50 fs-s )

    .comment-notes,
    .logged-in-as
      +h( d-block c-passive fs-s )

    
  // when not active, only show Textarea
  .comment-form:not(.--active)
    +h( p0 )

    \:not(.comment-form-comment)
      +h( ov-hidden h0 m0 )


  // Textarea
  .comment-form-comment
    label
      +h( d-none )

    textarea
      height: 9rem

    .comment-form:not(.--active) &
      +h( m0 )

      textarea
        +h( cursor-pointer p1_5 b0 bg-main_10 shadow-none )
        height: 4.5rem
      
      textarea:hover
        +h( bg-transparent )


  p.comment-form-author,
  p.comment-form-email
    width: 50%

    @media ($below-xs)
      width: 100%

  p.comment-form-author
    +h( pr0_5 )

  p.comment-form-email
    +h( pl0_5 )

  p.comment-form-url
    +h( d-none )

  p.comment-form-cookies-consent
    +h( fd-row )

    input
      +h( mr0_5 mt2px )

    label
      +h( d-iblock tt-none )

  p.form-submit
    +h( ai-center mb0 )

// if $output-comment


///// POST PASSWORD FORM
@if $output-password-form
  .post-password-form
    +h( pv2 ph4 bg-black_05 brad )

    p:last-child
      +h( d-flex bb1-solid bc-gray pb0_5 )

    label
      +h( flex1 c-passive )

    input[type="password"]
      +h( bg-transparent b-none mt1 p0 )
      +h( fs-h3 c-text ls50 )
      
      &:hover,
      &:focus
        +h( b-none shadow-none )

    input[type="submit"]
      +h( as-end bg-white ph2 )


///// INFINITE SCROLL (Jetpack)
@if $output-infinite-scroll
  body[class^="paged-"] #infinite-footer
    +h( d-none ) // if infinite-footer is turned on (in theme_support), hide it in paged list.

  .infinite-loader
    +h( mv2 )

    .spinner
      left: 50% !important
      transform: translateX(-50%)