///// GENERAL


.widget + .widget
  .header &
    margin-left: 1rem

  .footer &
    margin-top: 1.5rem

  .offcanvas &
    margin-top: 2rem

  .sidebar &
    margin-top: var(--blockSpacing)


.widgettitle
  .header &
    font-size: var(--h5Size)

  .footer &
    margin-bottom: 0.5rem
    font-size: var(--h4Size)

  .sidebar &
    margin-bottom: 1rem
    font-size: var(--h5Size)


  
///// WIDGET WRAPPER

.widget-row
  width: 100%
  max-width: var(--siteWidth)
  margin: 0 auto

  .header &
    display: grid
    grid-template-columns: var(--headerGridTemplate, auto)

    @media ($below-l)
      padding: 0 var(--gridRim)

  .header[data-columns="2"] &
    --headerGridTemplate: auto auto

  .header[data-columns="3"] &
    --headerGridTemplate: 1fr auto 1fr
    

  .footer &
    display: flex
    max-width: calc(var(--siteWidth) + var(--gridGap))

    @media ($below-l)
      --gridGap: 0.75rem
  
    @media ($below-s)
      flex-wrap: wrap


.widget-column
  display: flex
  flex-wrap: wrap
  align-items: center
  padding: 0
  list-style-type: none

  .header &
    &:last-child:not(:first-child)
      justify-content: flex-end

  .footer &
    flex-direction: column
    align-items: flex-start
    width: var(--columnSize)
    padding: 0 var(--footerGap)

    &:not([style])
      flex: 1

    @media ($above-s)
      &:last-child:not(:first-child)
        align-items: flex-end

    @media ($below-s)
      width: 100%
      align-items: center

      + .widget-column
        margin-top: var(--blockSpacing)

  .footer--bottom-row &
    justify-content: center




///// WIDGET: Text

.widget_text
  width: 100%
   
.textwidget
  > * + *
    margin-top: 1rem
  path
    fill: currentColor
  p, ul, ol
    margin-bottom: 0.5rem
    font-size: var(--textSize)
    color: var(--textColor)
  ul, ol
    padding-left: 1rem
  a
    text-decoration: underline


///// WIDGET: Categories

.widget_categories
  ul
    display: flex
    flex-wrap: wrap
    list-style-type: none

  li
    margin-right: 0.5rem
    margin-bottom: 0.5rem

  a
    display: inline-block
    padding: 0.25rem 0.5rem
    border: 1px solid rgba(black, .2)
    border-radius: var(--gRadius)

    text-transform: uppercase
    transition: var(--gTransition)

  a:hover
    border-color: var(--main)
    background-color: var(--mainLight)

  a:active
    transform: translateY(1px)
    transition: none


///// WIDGET: Image

.widget_media_image
  position: relative

  .widgettitle
    position: absolute
    z-index: 1
    bottom: 1rem
    left: 1rem
    margin-bottom: 0
    color: var(--textInvert)

  img
    transition: var(--gTransition)

  a
    display: block
    overflow: hidden
    border-radius: var(--gRadius)
    will-change: box-shadow, transform

  .widgettitle + a::before
    +absolute-fill
    content: ""
    background-color: rgba(black, .3)
    border-radius: var(--gRadius)

  a:hover
    box-shadow: var(--shadow1)
    transform: translateY(-2px)
  a:active
    transition: none
    transform: none


///// WIDGET: Logo

.widget_h_logo
  display: flex
  flex-direction: column

  img
    width: auto
    max-height: var(--logoMaxHeight, 40px)
    transition: var(--gTransition)
    will-change: transform

  &:hover
    img
      opacity: .75
      transform: translateY(-2px)

  // tagline
  span
    font-size: var(--smallFontSize)
    color: var(--text)

  .footer &
    justify-content: flex-start
    width: 100%


///// WIDGET: Button

.widget_h_button
  .button
    display: flex
    align-items: center

    .header--top-row &,
    .header--top-row-mobile &
      --buttonColor: var(--textInvert)
      
      padding: 0.375rem 0.5rem

  path
    fill: currentColor


///// WIDGET: Social Buttons

.widget_h_socials
  --iconSize: 1rem
  --iconPadding: 0.375rem
  --iconGap: 0.25rem

  display: flex
  align-items: center

  
  //
  .footer &,
  .sidebar &
    --iconSize: 1.25rem
    --iconPadding: 0.5rem
    --iconGap: 0.5rem

.social-icon
  display: flex
  align-items: center
  padding: var(--iconPadding)
  background-color: var(--iconColor)
  line-height: 1
  border-radius: var(--gRadius)
  color: inherit

  will-change: transform

  + .social-icon
    margin-left: var(--iconGap)

  &:hover
    opacity: .75
    color: inherit
    
    transform: translateY(-2px)
    box-shadow: var(--shadow1)
  
  &:active
    transition: none
    transform: none
    box-shadow: var(--shadow0)

  svg
    width: var(--iconSize)
    height: var(--iconSize)

  path,
  circle
    fill: white

.social-icon--has-label
  padding-right: 0.5rem
  padding-left: 0.5rem

  span
    display: inline-block
    white-space: nowrap
    margin-left: 0.25rem
    line-height: 1
    font-size: var(--smallFontSize)
    transform: translateY(-1px)



///// WIDGET: Recent Posts

.widget_h_recent_posts .wp-block-latest-posts
  --postsFontSize: var(--fontSize)

  .wp-block-latest-posts__featured-image
    --postsImageWidth: 75px
    margin-top: 0.375rem

  a
    text-decoration: none
  a:hover
    text-decoration: underline
    
  
///// WIDGET: Search

.widget_search
  --searchPadding: 0.25rem
  --searchBg: var(--panelBg)
  --searchInputPadding: 0.25rem 0.5rem

  .screen-reader-text
    display: none

  svg
    width: 1em

  .header--top-row &
    --searchPadding: 0.125rem
    --searchBg: var(--textInvert)
    --searchInputPadding: 0 0.375rem

  .sidebar &
    --searchPadding: 0.5rem
    --searchInputPadding: 0.5rem 0.75rem


// FORM
.search-form
  display: flex
  background-color: var(--searchBg)
  padding: var(--searchPadding)

  border-radius: var(--gRadius)
  transition: var(--gTransition)

  &:focus-within
    outline: auto
    box-shadow: var(--shadow1)

.search-form label
  display: flex
  width: 100%

  @media ($below-xs)
    .header &
      display: none


// INPUT
.search-field
  width: 100%
  border: 0
  border-radius: var(--gRadius)
  background-color: transparent
  padding: var(--searchInputPadding)
  outline: none
  box-shadow: none

  &:focus
    background-color: transparent
    box-shadow: none

  //
  @media ($above-xs) and ($below-s)
    width: 7em
  //
  @media ($below-xs)
    flex: 1


// SUBMIT BUTTON
.search-submit
  display: flex
  align-items: center
  padding: 0.25em 1em
  background: var(--text) url('../svg/search.svg') no-repeat center center
  background-size: auto 65%

  color: transparent
  letter-spacing: -1em

  &:hover
    color: transparent
  
  .sidebar &
    padding: 0.25em 1.25em
    background-size: auto 50%


///// WIDGET: Toggle Off canvas

.widget_h_toggle a
  --toggleColor: var(--text)

  display: flex
  align-items: center
  padding: 0.25rem 0.5rem
  color: var(--toggleColor)

  border-radius: var(--gRadius)

  &:hover
    --toggleColor: var(--main)
    background-color: var(--mainLight)

  svg
    height: 1.125rem
  span
    text-transform: uppercase

  path,
  circle
    fill: var(--toggleColor)

  // alignment
  .header[data-columns="2"] .widget-column:nth-child(2) &,
  .header[data-columns="3"] .widget-column:nth-child(3) &
    flex-direction: row-reverse